#!/bin/sh
# Zenn front matter validation pre-commit hook
# スケジュール重複・形式不統一・禁止組み合わせを自動検出

# articles/ に変更がある場合のみ実行
if git diff --cached --name-only | grep -q "^articles/"; then
    python3 "$(git rev-parse --show-toplevel)/scripts/validate-frontmatter.py" --ci
    if [ $? -ne 0 ]; then
        echo ""
        echo "Front matter validation failed."
        echo "Run: python3 scripts/validate-frontmatter.py --fix"
        echo ""
        exit 1
    fi
fi
